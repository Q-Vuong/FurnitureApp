<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="/css/component/navigation.css" rel="stylesheet">
    <link href="/css/component/breadcrumb.css" rel="stylesheet">
    <link href="/css/pages/banner.css" rel="stylesheet">
</head>

<body>

    <div class="container">
        {{#if successMessage}}
        <div class="alert alert-success" role="alert">
            {{successMessage}}
        </div>
        {{/if}}
        {{#if dangerMessage}}
        <div class="alert alert-danger" role="alert">
            {{dangerMessage}}
        </div>
        {{/if}}


        <div id="add-or-edit-banner">
            <h5 class="mb-4">{{viewTitle}}</h5>
            <hr class="mb-4">
            <form id="productTypeForm" action="/productType/add" method="POST" enctype="multipart/form-data" >
                <input type="hidden" id="id" name="id" value="{{producttype._id}}" />
                <div class="mb-3">
                    <label for="nameTypeInput" class="form-label">Tên loại nội thất: </label>
                    <input type="text" class="form-control" id="nameTypeInput" name="nameType" value="{{producttype.nameType}}" required>
                </div>
                <div class="mb-3">
                    <label for="imageInput" class="form-label">Ảnh: </label>
                    <input type="file" class="form-control" id="imgPr_T" name="productTypeImage" accept="image/*">
                    <img src="{{producttype.imgPr_T}}" id="imagePreview" class="mt-2" style="max-width: 150px;">
                </div>
                <button type="submit" class="btn btn-primary" id="addProductType">Thực hiện</button>
                <a href="/productType/view" onclick="return confirmAction(event);" class="btn btn-danger ">Huỷ</a>
            </form>

        </div>

    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="/js/productTypes/loadPage_proT.js"></script>
    <script>
        // Hiển thị ảnh trước khi tải lên
        document.getElementById('imgPr_T').addEventListener('change', function (event) {
            var imageInput = event.target;
            var imagePreview = document.getElementById('imagePreview');
            var file = imageInput.files[0];
            var reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
            };
            reader.readAsDataURL(file);
        });    
    </script>
</body>

</html>